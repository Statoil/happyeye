<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">


<!-- Latest compiled JavaScript -->
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">


<script>

$(document).ready(function(){
    $('#below_click').click(function(){
        fade_click("#below_click");
        post("below");
    });
    
    $('#above_click').click(function(){
        fade_click("#above_click");
        post("above");
    });

    $('#average_click').click(function(){
        fade_click("#average_click");
        post("average");
    });
    
});

 function post(status) {
 $.post("http://localhost:3000/happy",
        {
          happystatus: status
        },
        function(data,stat){
          $("#click_status").html("Sensordata (" + status + ") sendt (" + stat + ")");
        });   
}

function fade_click(item){
  $(item).fadeOut(50);
  $(item).fadeIn(50);  
}
</script>

</head>
<body>

<div class="container">
	
	<div class="panel panel-default">
	<div class="panel-heading text-center"><h4>Employee happiness sensor</h4></div>
	<div class="panel-body">
		<div class="row">
			  <div class="col-xs-4 text-center"><img src="above.png" class="img-circle" id="above_click" alt="above_click" width="50%" height="50%"></div>
			  <div class="col-xs-4 text-center"><img src="average.png" class="img-circle" id="average_click" alt="above_click" width="50%" height="50%"></div>
			  <div class="col-xs-4 text-center"><img src="below.png" class="img-circle" id="below_click" alt="below_click" width="50%" height="50%"></div>				  
		</div><!-- grid (row) of smile -->			

	</div><!-- panel body -->
	</div><!-- panel default -->
	
	<button type="button" class="btn btn-primary" data-toggle="collapse" data-target="#info">More information</button>

	<div id="info" class="collapse">
		<div class="panel panel-success">
		<div class="panel-heading"><h5>Information</h5></div>
			<div class="panel-body">
			 <b>This is the employee happiness sensor</b><p>
			 You submit a feedback document logging happiness status, average, above average and below average.
			 Submitting happiness feedback is "anonymous". We do not log any personal information, neither any cookies with information.</p>         
			 <b>Frequency</b><p>
			 You can submit feedback as often as you want, but twice a day is perhaps enough.
			 We have no throttling mechanism avoiding anyone from hammering the system with feedback.</p>
			 <b>API</b><p>
			Submitting from other systems are available using a <code>url:3000/happy</code> with either get or post.
			Format is <code>{happystatus: 'average'|'below'|'above'}</code>
			Results are available to anyone (in the default setup) and exposed in Kibana at <code>url:5601/</code>
			</p>
			<b>Source</b><p>
			<a href="https://github.com/Statoil/happyeye" target="new">https://github.com/Statoil/happyeye</a></p>
			</div>
		</div>
	</div><!-- collapse -->
</div><!-- container -->

<!-- What is this? -->
<table>
  <tr><td></td><td></td><td></td></tr>
  <tr>
   <td colspan="3"><div id="click_status"><p>.</p></div></td>
  </tr>
</table>
 
  
</body>
</html>
