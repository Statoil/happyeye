<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script>

$(document).ready(function(){
    $('#below_click').click(function(){
        fade_click("#below_click");
        post("below");
    });
    
    $('#above_click').click(function(){
        fade_click("#above_click");
        post("above");
    });

    $('#average_click').click(function(){
        fade_click("#average_click");
        post("average");
    });
    
    $('#moreinfo').click(function(){
        $('#information').toggle();
    });
});

 function post(status) {
 $.post("http://localhost:3000/happy",
        {
          happystatus: status
        },
        function(data,stat){
          $("#click_status").html("Sensordata (" + status + ") sendt (" + stat + ")");
        });   
}

function fade_click(item){
  $(item).fadeOut(50);
  $(item).fadeIn(50);  
}

</script>
<style>
    table, th, td {
    border: 0px solid black;
    border-collapse: collapse;
}
th, td {
    padding: 5px;
    width: 200px;
}
th, td {
    text-align: center;
}
</style>
</head>
<body>
<table>
  <tr><td></td><td></td><td></td></tr>
  <tr>
   <td colspan="3"><h1>Employee happiness sensor</h1</td>
  </tr>
</table>
<table>
  <tr>
    <td><div id="above"> <img src="above.png" id="above_click" height="200" width="200"></div></td>
    <td><div id="average"> <img src="average.png" id="average_click" height="200" width="200"> </div></td> 
    <td><div id="below"> <img src="below.png" id="below_click" height="200" width="200"> </div></td>
  </tr>
</table>
<table>
  <tr><td></td><td></td><td></td></tr>
  <tr>
   <td colspan="3"><div id="click_status"><p>.</p></div></td>
  </tr>
</table>
<table>
  <tr><td></td><td></td><td></td></tr>
  <tr>
    <td colspan="3"><div id="moreinfo" style="text-align:center">More information</div></td>
    
  </tr>
  <tr>
    <td colspan="3">
     <div id="information" style="text-align:center; display:none;">
      <b>This is the employee happiness sensor.</b><p>
      You submitt a feedback document logging happyness status, average, above average and below average. 
      Submitting happyness feedback is "anonymous". We do not log any personal information.</p>
      Frequency. You can submitt feedback as often as you want, but twice a day is perhaps enough. 
      We have no trotteling mechanism avoiding anyone from hammering the system with feedback.</p>
      Submitting from other systems is avilable using a :3000/happy with either get or post.
      Format is {happystatus: 'average'|'below'|'above'}</p>
      Results are available to anyone (in the default setup) and exposed in Kibana at :5601/
         
   </div> 
      
      
    </td>
  </tr>
  </table>
 
  
</body>
</html>
